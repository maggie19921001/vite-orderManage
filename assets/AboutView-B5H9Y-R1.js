import{c,a as t,F as u,r as h,b as p,t as n,w as v,v as m,o as i,d as y,e as b}from"./index-D67J_6hQ.js";const k=(o,e)=>{const r=o.__vccOpts||o;for(const[_,l]of e)r[_]=l;return r},f={data(){return{products:[{id:1,name:"珍珠奶茶",description:"香濃奶茶搭配QQ珍珠",price:50,stock:20},{id:2,name:"冬瓜檸檬",description:"清新冬瓜配上新鮮檸檬",price:45,stock:18},{id:3,name:"翡翠檸檬",description:"綠茶與檸檬的完美結合",price:55,stock:34},{id:4,name:"四季春茶",description:"香醇四季春茶，回甘無比",price:45,stock:10},{id:5,name:"阿薩姆奶茶",description:"阿薩姆紅茶搭配香醇鮮奶",price:50,stock:25},{id:6,name:"檸檬冰茶",description:"檸檬與冰茶的清新組合",price:45,stock:20},{id:7,name:"芒果綠茶",description:"芒果與綠茶的獨特風味",price:55,stock:18},{id:8,name:"抹茶拿鐵",description:"抹茶與鮮奶的絕配",price:60,stock:20}],cart:[],note:"",total:0,loading:!1,order:{items:[],note:"",total:0}}},methods:{addToCart(o){const e=this.cart.find(r=>r.id===o.id);e?e.quantity++:this.cart.push({...o,quantity:1}),this.updateTotal()},removeFromCart(o){const e=this.cart.indexOf(o);this.cart.splice(e,1),this.updateTotal()},updateTotal(){this.total=this.cart.reduce((o,e)=>o+e.price*e.quantity,0)},placeOrder(){this.loading=!0,setTimeout(()=>{this.order.items=this.cart.map(o=>({id:o.id,name:o.name,quantity:o.quantity,price:o.price})),this.order.note=this.note,this.order.total=this.total,this.cart=[],this.note="",this.total=0,this.loading=!1,alert("訂單送出成功!")},2e3)}}},x={id:"app"},g={class:"container mt-5"},w={class:"row"},q={class:"col-md-4"},C={class:"list-group"},T=["onClick"],V={class:"d-flex w-100 justify-content-between"},O={class:"mb-1"},F={class:"mb-1"},B={class:"col-md-8"},M={class:"table"},U=t("thead",null,[t("tr",null,[t("th",{scope:"col",width:"50"},"操作"),t("th",{scope:"col"},"品項"),t("th",{scope:"col"},"描述"),t("th",{scope:"col",width:"90"},"數量"),t("th",{scope:"col"},"單價"),t("th",{scope:"col"},"小計")])],-1),j=["onClick"],D=["onUpdate:modelValue"],L=["value"],N={class:"text-end mb-3"},Q={class:"text-end"},S=["disabled"],A={key:0},E={key:1},I=t("hr",null,null,-1),z={class:"row justify-content-center"},G={class:"col-8"},H={class:"card"},J={class:"card-body"},K={class:"card-title"},P=t("h5",null,"訂單",-1),R={class:"table"},W=t("thead",null,[t("tr",null,[t("th",{scope:"col"},"品項"),t("th",{scope:"col"},"數量"),t("th",{scope:"col"},"小計")])],-1),X={class:"text-end"},Y={class:"text-end"};function Z(o,e,r,_,l,a){return i(),c("div",x,[t("div",g,[t("div",w,[t("div",q,[t("div",C,[(i(!0),c(u,null,h(l.products,s=>(i(),c("div",{key:s.id},[t("a",{href:"#",class:"list-group-item list-group-item-action",onClick:y(d=>a.addToCart(s),["prevent"])},[t("div",V,[t("h5",O,n(s.name),1),t("small",null,"$"+n(s.price),1)]),t("p",F,n(s.description),1)],8,T)]))),128))])]),t("div",B,[t("table",M,[U,t("tbody",null,[(i(!0),c(u,null,h(l.cart,s=>(i(),c("tr",{key:s.id},[t("td",null,[t("button",{type:"button",class:"btn btn-sm",onClick:d=>a.removeFromCart(s)},"x",8,j)]),t("td",null,n(s.name),1),t("td",null,[t("small",null,n(s.description),1)]),t("td",null,[v(t("select",{class:"form-select","onUpdate:modelValue":d=>s.quantity=d,onChange:e[0]||(e[0]=(...d)=>a.updateTotal&&a.updateTotal(...d))},[(i(),c(u,null,h(10,d=>t("option",{key:d,value:d},n(d),9,L)),64))],40,D),[[b,s.quantity]])]),t("td",null,"$"+n(s.price),1),t("td",null,"$"+n(s.price*s.quantity),1)]))),128))])]),t("div",N,[t("h5",null,[p("總計: "),t("span",null,"$"+n(l.total),1)])]),v(t("textarea",{class:"form-control mb-3",rows:"3",placeholder:"備註","onUpdate:modelValue":e[1]||(e[1]=s=>l.note=s)},null,512),[[m,l.note]]),t("div",Q,[t("button",{class:"btn btn-primary",onClick:e[2]||(e[2]=(...s)=>a.placeOrder&&a.placeOrder(...s)),disabled:l.loading},[l.loading?(i(),c("span",A,"Loading...")):(i(),c("span",E,"送出"))],8,S)])])]),I,t("div",z,[t("div",G,[t("div",H,[t("div",J,[t("div",K,[P,t("table",R,[W,t("tbody",null,[(i(!0),c(u,null,h(l.order.items,s=>(i(),c("tr",{key:s.id},[t("td",null,n(s.name),1),t("td",null,n(s.quantity),1),t("td",null,"$"+n(s.price*s.quantity),1)]))),128))])]),t("div",X,[p("備註: "),t("span",null,n(l.order.note),1)]),t("div",Y,[t("h5",null,[p("總計: "),t("span",null,"$"+n(l.order.total),1)])])])])])])])])])}const tt=k(f,[["render",Z]]);export{tt as default};
